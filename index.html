<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Moust Effect04 - Javascript</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        
        <!-- main -->
        <main>
            <div class="cursor"></div>
    
            <div class="move-image">
                <div class="mimg"><img src="sky1.jpg" alt="이미지"></div>
                <div class="mtext">
                    <p></p>
                    <p><a href="parallax.html">WELCOME TO JAKEWORLD:)</a>.</p>
                   
                </div>
            </div>
        </main>
        <!-- //main -->
        
        <!-- info -->
        <div class="info left">
            
            <p></p>
        </div>
    
        <div class="info bottom">
            <ul>
                <li>pageX : <span class="pageX">0</span></li>
                <li>pageY : <span class="pageY">0</span></li>
                <li>mouseX : <span class="mouseX">0</span></li>
                <li>mouseY : <span class="mouseY">0</span></li>
                <li>angleX : <span class="angleX">0</span></li>
                <li>angleY : <span class="angleY">0</span></li>
                <li>fmouseX : <span class="fmouseX">0</span></li>
                <li>fmouseY : <span class="fmouseY">0</span></li>
            </ul>
        </div>
        <!-- //info -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js"></script>
        <script>
            let x = 0,
                y = 0,
                mouseX = 0,
                mouseY = 0,
                angleX = 0,
                angleY = 0,
                fmouseX = 0,
                fmouseY = 0;
        
            document.addEventListener("mousemove", function (e){
                x = e.pageX;    //마우스 X축 좌표값
                y = e.pageY;    //마우스 Y축 좌표값
        
                //let mouseX = window.innerWidth/2 - x    //마우스의 X축 좌표값을 가운데로 설정
                //let mouseY = window.innerHeight/2 - y   //마우스의 Y축 좌표값을 가운데로 설정
        
                //마우스의 x축 y축 쵯소값 -100 쵯대값 100으로 설정
                mouseX = Math.max(-50, Math.min(50, window.innerWidth/2 - x));
                mouseY = Math.max(-50, Math.min(50, window.innerHeight/2 - y));
        
                angleX = (12 * mouseX) / 100;
                angleY = (12 * mouseY) / 100;
        
                fmouseX += (angleX - fmouseX) * 1/10;
                fmouseY += (angleY - fmouseY) * 1/10;
        
                //커서 
                gsap.to(".cursor", 0.3, {left: x, top: y });
        
                //움직임
                let move = document.querySelector(".move-image");
                move.style.transform = "translate(-50%, -50%) perspective(600px) rotateX("+fmouseY+"deg) rotateY("+ -fmouseX+"deg)"
            });
        
            //출력용
            document.addEventListener("mousemove", function (e){
                document.querySelector(".pageX").textContent = x;
                document.querySelector(".pageY").textContent = y;
                document.querySelector(".mouseX").textContent = mouseX;
                document.querySelector(".mouseY").textContent = mouseY;
                document.querySelector(".angleX").textContent = angleX;
                document.querySelector(".angleY").textContent = angleY;
                document.querySelector(".fmouseX").textContent = Math.round(fmouseX);
                document.querySelector(".fmouseY").textContent = Math.round(fmouseY);
            });
        </script>
    </body>
</html>